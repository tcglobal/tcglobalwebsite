jQuery(function(o){function e(){var o=wpsl_locator_all.locations,e=wpsl_locator.mapstyles,n=wpsl_locator.mappin?wpsl_locator.mappin:"",t=new google.maps.LatLngBounds,a={mapTypeId:"roadmap",mapTypeControl:!1,zoom:8,styles:e,panControl:!1};"1"===wpsl_locator.custom_map_options&&(a=wpsl_locator.map_options);var l,s,p=new google.maps.InfoWindow,i=new google.maps.Map(document.getElementById("alllocationsmap"),a);for(s=0;s<o.length;s++){var r=new google.maps.LatLng(o[s].latitude,o[s].longitude);t.extend(r);var l=new google.maps.Marker({position:r,map:i,title:o[s].title,icon:n});google.maps.event.addListener(l,"click",function(e,n){return function(){p.setContent(o[n].infowindow),p.open(i,e),wpsl_all_locations_marker_clicked(e,p)}}(l,s)),i.fitBounds(t);var m=google.maps.event.addListener(i,"idle",function(){o.length<2&&i.setZoom(13),google.maps.event.removeListener(m)})}var g=google.maps.event.addListener(i,"bounds_changed",function(o){google.maps.event.removeListener(g)});wpsl_all_locations_rendered(i)}o(document).ready(function(){e()})});