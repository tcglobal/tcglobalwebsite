/**
 * Shortcode Cleaner Lite
 * Clean your WordPress content from unused broken shortcodes.
 *
 * @package   Shortcode_Cleaner_Lite
 * @author    Jozoor, mohamdio [jozoor.com]
 * @link      https://plugins.jozoor.com/shortcode-cleaner
 * @copyright 2017 Jozoor, mohamdio [jozoor.com]
 * @license   GPL2
 * @version   1.0.0
 *
 * @since  1.0.0
 */

Chart.defaults.global.tooltips.displayColors=!1,Chart.defaults.global.tooltips.cornerRadius=2,Chart.defaults.scale.scaleLabel.display=!0,Chart.defaults.scale.scaleLabel.fontSize=14,Chart.defaults.scale.ticks.padding=13,Chart.defaults.scale.ticks.fontSize=13,Chart.defaults.scale.gridLines.display=!0,Chart.defaults.global.elements.line.tension=0,Chart.defaults.global.elements.line.fill=!1,Chart.defaults.global.elements.line.spanGaps=!1,Chart.defaults.global.elements.line.borderWidth=3,Chart.defaults.global.elements.line.borderCapStyle="butt",Chart.defaults.global.elements.point.hitRadius=3,Chart.defaults.global.elements.point.radius=3,Chart.defaults.global.elements.point.pointStyle="circle",Chart.defaults.global.elements.point.hoverRadius=3,Chart.defaults.global.legend.display=!1,function(e,a,s,t){e(s).ready(function(){var s=e(".cs-sections"),t=e(".cs-header"),i=e(".cs-nav"),n=s.find("#cs-tab-dashboard"),o=s.find("#cs-tab-system_info"),l=s.find("#cs-tab-support"),d=s.find("#cs-tab-feedback"),r=e("#shortcode-cleaner-dashboard");n.is(":visible")?(s.removeClass("normal"),t.find("fieldset input").hide(),t.find("fieldset a").show()):o.is(":visible")?(s.addClass("normal"),t.find("fieldset input").hide(),t.find("fieldset a").show()):l.is(":visible")?(s.addClass("normal"),t.find("fieldset input").hide(),t.find("fieldset a").show()):d.is(":visible")?(s.addClass("normal"),t.find("fieldset input").hide(),t.find("fieldset a").show()):(s.addClass("normal"),t.find("fieldset a").hide(),t.find("fieldset input").show()),i.find("ul a").on("click",function(e){e.preventDefault(),n.is(":visible")?(s.removeClass("normal"),t.find("fieldset input").hide(),t.find("fieldset a").show()):o.is(":visible")?(s.addClass("normal"),t.find("fieldset input").hide(),t.find("fieldset a").show()):l.is(":visible")?(s.addClass("normal"),t.find("fieldset input").hide(),t.find("fieldset a").show()):d.is(":visible")?(s.addClass("normal"),t.find("fieldset input").hide(),t.find("fieldset a").show()):(s.addClass("normal"),t.find("fieldset a").hide(),t.find("fieldset input").show())});var f=e(r.find("#sc-cleaner-data")),c=e(r.find("#sc_days_data")),h=e.parseJSON(c.val()),u=e(r.find("#sc_numbers_data")),p=e.parseJSON(u.val()),b=Math.min.apply(this,p)-5;b<5&&(b=0),b%5!=0&&(b-=b%5);Math.max.apply(this,p);var C=e("#yAxes_label").val(),m=e("#xAxes_label").val(),g={responsive:!0,defaultFontColor:"#9E9E9E",defaultFontFamily:"'Poppins', 'sans-serif'",defaultFontSize:14,maintainAspectRatio:!1,elements:{line:{tension:0,fill:!1,spanGaps:!1,borderWidth:2,borderCapStyle:"butt",borderColor:"#F5F5F5"}},scales:{xAxes:[{barPercentage:.5,maxBarThickness:30,scaleLabel:{labelString:m,fontColor:"#bdbdbd",fontFamily:"'Poppins', 'sans-serif'",fontSize:11.5},ticks:{padding:12,fontSize:12,fontColor:"#9E9E9E",fontFamily:"'Poppins', 'sans-serif'"},gridLines:{display:!1,color:"#F5F5F5",zeroLineWidth:1,zeroLineColor:"#F5F5F5",drawTicks:!1}}],yAxes:[{scaleLabel:{labelString:C,fontColor:"#bdbdbd",fontFamily:"'Poppins', 'sans-serif'",fontSize:9.5},ticks:{padding:12,fontSize:13,fontColor:"#9E9E9E",stepSize:5,fontFamily:"'Poppins', 'sans-serif'",min:b},gridLines:{drawBorder:!1,color:"#F5F5F5",zeroLineWidth:1,zeroLineColor:"#F5F5F5",drawTicks:!1}}]},tooltips:{enabled:!0,yPadding:5,xPadding:6,displayColors:!1,cornerRadius:2,backgroundColor:"rgba(73,73,73,0.9)",titleFontSize:11,bodyFontSize:11,callbacks:{title:function(e,a){return e[0].xLabel+" "+m}}},layout:{padding:{top:10,bottom:0,right:0,left:-6}},hover:{animationDuration:0}},y=(new Chart(f,{type:"bar",data:{labels:h,datasets:[{label:C,backgroundColor:"#74AD27",borderColor:"#74AD27",pointBorderColor:"#74AD27",pointBackgroundColor:"#fff",pointHoverBackgroundColor:"#74AD27",pointHoverBorderColor:"#74AD27",data:p}]},options:g}),e(r.find(".broken-shortcodes"))),v=new ProgressBar.Circle("#scan-process",{strokeWidth:4,trailWidth:4,easing:"easeInOut",duration:2500,color:"#74AD27",trailColor:"#F1F1F1",text:{autoStyleContainer:!1},step:function(e,a){var s=Math.round(100*a.value())+" %";"0 %"===s?(r.hasClass("sc-run")&&r.find(".sc-data-loading").show(),a.setText("")):"100 %"===s?(a.setText('<i class="fas fa-check" style="font-size:50px"></i>'),r.hasClass("sc-run")&&(r.removeClass("sc-run"),r.find(".status-data-number").hide(),r.find(".sc-broken-shortcodes").hide(),r.find(".cleaner-history-data").hide(),r.find(".sc-data-loading").hide(),r.find(".status-data-number").fadeIn("slow"),r.find(".cleaner-history-data").fadeIn("slow"),!0!==y.hasClass("none")&&setTimeout(function(){r.find(".sc-broken-shortcodes").fadeIn("slow")},700))):a.setText(s)}});v.text.style.fontFamily='"Poppins", sans-serif',r.find(".sc-refresh-data").on("click",function(e){e.preventDefault(),r.find(".status-data-number").hide(),r.find(".sc-broken-shortcodes").hide(),r.find(".cleaner-history-data").hide(),r.addClass("sc-run"),v.set(0),v.animate(1)}),!0!==r.hasClass("sc-run")&&v.set(1),v.animate(1),r.find(".sc-show-details").on("click",function(s){s.preventDefault();var t=e(this).data("id"),i=e(this).data("name");e("#sc-broken-shortcode-tag").dialog({title:"["+i+"]",draggable:!1,width:900,height:"auto",modal:!0,resizable:!1,closeOnEscape:!0,position:{my:"center",at:"center",of:a},open:function(){e(this).find(".load-shortcode-details").append(e("#"+t).html()),e(a).on("resize",function(){var s=e(a).height(),t=Math.floor(s-125);e("#sc-broken-shortcode-tag").dialog("option","height",t).parent().css("max-height",t),e("#sc-broken-shortcode-tag").css("overflow","auto")}).resize()},close:function(a,s){e(this).find(".load-shortcode-details").html("")}})}),e("#search-broken-shortcode input").on("keyup",function(){var a=e(this).val().toLowerCase();e("#broken-shortcodes-list .sc-tag-item").filter(function(){e(this).parent().parent().toggle(e(this).text().toLowerCase().indexOf(a)>-1)})})})}(jQuery,window,document);